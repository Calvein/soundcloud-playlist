!function t(e,n,r){function o(i,a){if(!n[i]){if(!e[i]){var u="function"==typeof require&&require;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({"./src/index.coffee":[function(t){var e,n;n=t("bamjs").Backbone,n.$=$,e=t("./app"),window.app=new e({el:document.body})},{"./app":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/index.coffee",bamjs:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/index.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js":[function(t,e){(function(){var n;e.exports=null!=(n=t("backbone"))?n:window.Backbone}).call(this)},{backbone:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/node_modules/backbone/backbone.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/collection.js":[function(t,e){(function(){var n,r,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./backbone"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.before=function(t){var e;return e=this.indexOf(t),-1===e||0===e?null:this.at(e-1)},e.prototype.after=function(t){var e;return e=this.indexOf(t),-1===e||e===this.length-1?null:this.at(e+1)},e.prototype.all=function(){return this.models.slice()},e}(n.Collection),e.exports=r}).call(this)},{"./backbone":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/index.js":[function(t,e){(function(){var n;e.exports=n={Backbone:t("./backbone"),Underscore:t("./underscore"),Router:t("./router"),View:t("./view"),Model:t("./model"),Collection:t("./collection")}}).call(this)},{"./backbone":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js","./collection":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/collection.js","./model":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/model.js","./router":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/router.js","./underscore":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js","./view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/model.js":[function(t,e){(function(){var n,r,o,s,i,a,u={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./backbone"),a=t("./underscore"),i=a.map,s=a.any,r={string:function(t){return t+""},"int":function(t){return Math.floor(+t)},number:function(t){return+t},date:function(t){return new Date(t)},"boolean":function(t){return!!t}},o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.derived={},e.prototype.cast={},e.prototype.next=function(){var t;return null!=(t=this.collection)?t.after(this):void 0},e.prototype.prev=function(){var t;return null!=(t=this.collection)?t.before(this):void 0},e.prototype.getAttributes=function(){return n.$.extend(!0,{},this.attributes)},e.prototype.get=function(t,n){var r;return r=this.derived[t]?this._derive(derived[t]):e.__super__.get.call(this,t),void 0===r?n:r},e.prototype._derive=function(t){var e;return e=i(t.deps,function(t){return function(){return t.get("key")}}(this)),t.value.apply(t,e)},e.prototype.set=function(t,n,r){var o,a,u,l,c,h;"object"==typeof t?(o=t,r=n):(o={},o[t]=n);for(t in o)n=o[t],null!==n&&this.cast[t]&&(o[t]=this._cast(n,this.cast[t]));c=e.__super__.set.call(this,o,r),h=this.derived;for(l in h)u=h[l],a=i(u.deps,function(t){return o.hasOwnProperty(t)}),s(a)&&this.trigger("change:"+l,this._derive(u));return c},e.prototype._cast=function(t,e){var n;try{return t=this._getCastFunc(e)(t)}catch(r){return n=r,t=null}finally{return t}},e.prototype._getCastFunc=function(t){var e;return"function"==typeof t?t:null!=(e=r[t])?e:function(t){return t}},e}(n.Model),e.exports=o}).call(this)},{"./backbone":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js","./underscore":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/node_modules/backbone/backbone.js":[function(t,e,n){!function(e,r){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,n,o){e.Backbone=r(e,o,t,n)});else if("undefined"!=typeof n){var o=t("underscore");r(e,n,o)}else e.Backbone=r(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(t,e,n,r){{var o=t.Backbone,s=[],i=(s.push,s.slice);s.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!l(this,"once",t,[e,r])||!e)return this;var o=this,s=n.once(function(){o.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,r)},off:function(t,e,r){var o,s,i,a,u,c,h,p;if(!this._events||!l(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(a=t?[t]:n.keys(this._events),u=0,c=a.length;c>u;u++)if(t=a[u],i=this._events[t]){if(this._events[t]=o=[],e||r)for(h=0,p=i.length;p>h;h++)s=i[h],(e&&e!==s.callback&&e!==s.callback._callback||r&&r!==s.context)&&o.push(s);o.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=i.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,r){var o=this._listeningTo;if(!o)return this;var s=!e&&!r;r||"object"!=typeof e||(r=this),t&&((o={})[t._listenId]=t);for(var i in o)t=o[i],t.off(e,r,this),(s||n.isEmpty(t._events))&&delete this._listeningTo[i];return this}},u=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(r));return!1}if(u.test(n)){for(var s=n.split(u),i=0,a=s.length;a>i;i++)t[e].apply(t,[s[i]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,o=t.length,s=e[0],i=e[1],a=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,s,i);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,s,i,a);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){a[e]=function(e,r,o){var s=this._listeningTo||(this._listeningTo={}),i=e._listenId||(e._listenId=n.uniqueId("l"));return s[i]=e,o||"object"!=typeof r||(o=this),e[t](r,o,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var p=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var o,s,i,a,u,l,c,h;if(null==t)return this;if("object"==typeof t?(s=t,r=e):(s={})[t]=e,r||(r={}),!this._validate(s,r))return!1;i=r.unset,u=r.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(o in s)e=s[o],n.isEqual(h[o],e)||a.push(o),n.isEqual(c[o],e)?delete this.changed[o]:this.changed[o]=e,i?delete h[o]:h[o]=e;if(!u){a.length&&(this._pending=r);for(var p=0,d=a.length;d>p;p++)this.trigger("change:"+a[p],this,h[a[p]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,o=this._changing?this._previousAttributes:this.attributes;for(var s in t)n.isEqual(o[s],e=t[s])||((r||(r={}))[s]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},U(this,t),this.sync("read",this,t)},save:function(t,e,r){var o,s,i,a=this.attributes;if(null==t||"object"==typeof t?(o=t,r=e):(o={})[t]=e,r=n.extend({validate:!0},r),o&&!r.wait){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;o&&r.wait&&(this.attributes=n.extend({},a,o)),void 0===r.parse&&(r.parse=!0);var u=this,l=r.success;return r.success=function(t){u.attributes=a;var e=u.parse(t,r);return r.wait&&(e=n.extend(o||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(l&&l(u,t,r),void u.trigger("sync",u,t,r))},U(this,r),s=this.isNew()?"create":r.patch?"patch":"update","patch"===s&&(r.attrs=o),i=this.sync(s,this,r),o&&r.wait&&(this.attributes=a),i},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,o=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&o(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;U(this,t);var s=this.sync("delete",this,t);return t.wait||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(t){p.prototype[t]=function(){var e=i.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var f=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,a,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,g))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var o,s,i,a;for(o=0,s=t.length;s>o;o++)a=t[o]=this.get(t[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],i=this.indexOf(a),this.models.splice(i,1),this.length--,e.silent||(e.index=i,a.trigger("remove",a,this,e)),this._removeReference(a,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,m),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var o,s,i,a,u,l,c,h=e.at,d=this.model,f=this.comparator&&null==h&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],w={},_=e.add,k=e.merge,b=e.remove,j=!f&&_&&b?[]:!1;for(o=0,s=t.length;s>o;o++){if(u=t[o]||{},i=u instanceof p?a=u:u[d.prototype.idAttribute||"id"],l=this.get(i))b&&(w[l.cid]=!0),k&&(u=u===a?a.attributes:u,e.parse&&(u=l.parse(u,e)),l.set(u,e),f&&!c&&l.hasChanged(g)&&(c=!0)),t[o]=l;else if(_){if(a=t[o]=this._prepareModel(u,e),!a)continue;v.push(a),this._addReference(a,e)}a=l||a,!j||!a.isNew()&&w[a.id]||j.push(a),w[a.id]=!0}if(b){for(o=0,s=this.length;s>o;++o)w[(a=this.models[o]).cid]||y.push(a);y.length&&this.remove(y,e)}if(v.length||j&&j.length)if(f&&(c=!0),this.length+=v.length,null!=h)for(o=0,s=v.length;s>o;o++)this.models.splice(h+o,0,v[o]);else{j&&(this.models.length=0);var x=j||v;for(o=0,s=x.length;s>o;o++)this.models.push(x[o])}if(c&&this.sort({silent:!0}),!e.silent){for(o=0,s=v.length;s>o;o++)(a=v[o]).trigger("add",a,this,e);(c||j&&j.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,o=this.models.length;o>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return i.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var o=t.reset?"reset":"set";r[o](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,o=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),o&&o(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){f.prototype[t]=function(){var e=i.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){f.prototype[t]=function(e,r){var o=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,o,r)}});var w=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var o=e.match(_),s=o[1],i=o[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,""===i?this.$el.on(s,r):this.$el.on(s,i,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,o){var s=j[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var i={type:s,dataType:"json"};if(o.url||(i.url=n.result(r,"url")||I()),null!=o.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(i.contentType="application/json",i.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{}),o.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){i.type="POST",o.emulateJSON&&(i.data._method=s);var a=o.beforeSend;o.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===i.type||o.emulateJSON||(i.processData=!1),"PATCH"===i.type&&b&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=o.xhr=e.ajax(n.extend(i,o));return r.trigger("request",r,u,o),u};var b=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),j={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var x=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,C=/\*\w+/g,$=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(x.prototype,a,{initialize:function(){},route:function(t,r,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var s=this;return e.history.route(t,function(n){var i=s._extractParameters(t,n);s.execute(o,i),s.trigger.apply(s,["route:"+r].concat(i)),s.trigger("route",r,i),e.history.trigger("route",s,r,i)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace($,"\\$&").replace(T,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var S=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,O=/msie [\w.]+/,D=/\/$/,R=/#.*$/;S.started=!1,n.extend(S.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(D,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(P,"")},start:function(t){if(S.started)throw new Error("Backbone.history has already been started");S.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),o=document.documentMode,s=O.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if(this.root=("/"+this.root+"/").replace(A,"/"),s&&this._wantsHashChange){var i=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=i.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),S.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!S.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(R,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new S;var N=function(t,e){var r,o=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,e);var s=function(){this.constructor=r};return s.prototype=o.prototype,r.prototype=new s,t&&n.extend(r.prototype,t),r.__super__=o.prototype,r};p.extend=f.extend=x.extend=w.extend=S.extend=N;var I=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e})},{underscore:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/node_modules/underscore/underscore.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/node_modules/underscore/underscore.js":[function(t,e,n){(function(){var t=this,r=t._,o=Array.prototype,s=Object.prototype,i=Function.prototype,a=o.push,u=o.slice,l=o.concat,c=s.toString,h=s.hasOwnProperty,p=Array.isArray,d=Object.keys,f=i.bind,m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=m),n._=m):t._=m,m.VERSION="1.7.0";var g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,s){return t.call(e,n,r,o,s)}}return function(){return t.apply(e,arguments)}};m.iteratee=function(t,e,n){return null==t?m.identity:m.isFunction(t)?g(t,e,n):m.isObject(t)?m.matches(t):m.property(t)},m.each=m.forEach=function(t,e,n){if(null==t)return t;e=g(e,n);var r,o=t.length;if(o===+o)for(r=0;o>r;r++)e(t[r],r,t);else{var s=m.keys(t);for(r=0,o=s.length;o>r;r++)e(t[s[r]],s[r],t)}return t},m.map=m.collect=function(t,e,n){if(null==t)return[];e=m.iteratee(e,n);for(var r,o=t.length!==+t.length&&m.keys(t),s=(o||t).length,i=Array(s),a=0;s>a;a++)r=o?o[a]:a,i[a]=e(t[r],r,t);return i};var v="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(t,e,n,r){null==t&&(t=[]),e=g(e,r,4);var o,s=t.length!==+t.length&&m.keys(t),i=(s||t).length,a=0;if(arguments.length<3){if(!i)throw new TypeError(v);n=t[s?s[a++]:a++]}for(;i>a;a++)o=s?s[a]:a,n=e(n,t[o],o,t);return n},m.reduceRight=m.foldr=function(t,e,n,r){null==t&&(t=[]),e=g(e,r,4);var o,s=t.length!==+t.length&&m.keys(t),i=(s||t).length;if(arguments.length<3){if(!i)throw new TypeError(v);n=t[s?s[--i]:--i]}for(;i--;)o=s?s[i]:i,n=e(n,t[o],o,t);return n},m.find=m.detect=function(t,e,n){var r;return e=m.iteratee(e,n),m.some(t,function(t,n,o){return e(t,n,o)?(r=t,!0):void 0}),r},m.filter=m.select=function(t,e,n){var r=[];return null==t?r:(e=m.iteratee(e,n),m.each(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r)},m.reject=function(t,e,n){return m.filter(t,m.negate(m.iteratee(e)),n)},m.every=m.all=function(t,e,n){if(null==t)return!0;e=m.iteratee(e,n);var r,o,s=t.length!==+t.length&&m.keys(t),i=(s||t).length;for(r=0;i>r;r++)if(o=s?s[r]:r,!e(t[o],o,t))return!1;return!0},m.some=m.any=function(t,e,n){if(null==t)return!1;e=m.iteratee(e,n);var r,o,s=t.length!==+t.length&&m.keys(t),i=(s||t).length;for(r=0;i>r;r++)if(o=s?s[r]:r,e(t[o],o,t))return!0;return!1},m.contains=m.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=m.values(t)),m.indexOf(t,e)>=0)},m.invoke=function(t,e){var n=u.call(arguments,2),r=m.isFunction(e);return m.map(t,function(t){return(r?e:t[e]).apply(t,n)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matches(e))},m.findWhere=function(t,e){return m.find(t,m.matches(e))},m.max=function(t,e,n){var r,o,s=-1/0,i=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],r>s&&(s=r)}else e=m.iteratee(e,n),m.each(t,function(t,n,r){o=e(t,n,r),(o>i||o===-1/0&&s===-1/0)&&(s=t,i=o)});return s},m.min=function(t,e,n){var r,o,s=1/0,i=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],s>r&&(s=r)}else e=m.iteratee(e,n),m.each(t,function(t,n,r){o=e(t,n,r),(i>o||1/0===o&&1/0===s)&&(s=t,i=o)});return s},m.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:m.values(t),r=n.length,o=Array(r),s=0;r>s;s++)e=m.random(0,s),e!==s&&(o[s]=o[e]),o[e]=n[s];return o},m.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=m.iteratee(e,n),m.pluck(m.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var y=function(t){return function(e,n,r){var o={};return n=m.iteratee(n,r),m.each(e,function(r,s){var i=n(r,s,e);t(o,r,i)}),o}};m.groupBy=y(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=y(function(t,e,n){t[n]=e}),m.countBy=y(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1}),m.sortedIndex=function(t,e,n,r){n=m.iteratee(n,r,1);for(var o=n(e),s=0,i=t.length;i>s;){var a=s+i>>>1;n(t[a])<o?s=a+1:i=a}return s},m.toArray=function(t){return t?m.isArray(t)?u.call(t):t.length===+t.length?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:t.length===+t.length?t.length:m.keys(t).length},m.partition=function(t,e,n){e=m.iteratee(e,n);var r=[],o=[];return m.each(t,function(t,n,s){(e(t,n,s)?r:o).push(t)}),[r,o]},m.first=m.head=m.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:u.call(t,0,e)},m.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},m.rest=m.tail=m.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var w=function(t,e,n,r){if(e&&m.every(t,m.isArray))return l.apply(r,t);for(var o=0,s=t.length;s>o;o++){var i=t[o];m.isArray(i)||m.isArguments(i)?e?a.apply(r,i):w(i,e,n,r):n||r.push(i)}return r};m.flatten=function(t,e){return w(t,e,!1,[])},m.without=function(t){return m.difference(t,u.call(arguments,1))},m.uniq=m.unique=function(t,e,n,r){if(null==t)return[];m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=m.iteratee(n,r));for(var o=[],s=[],i=0,a=t.length;a>i;i++){var u=t[i];if(e)i&&s===u||o.push(u),s=u;else if(n){var l=n(u,i,t);m.indexOf(s,l)<0&&(s.push(l),o.push(u))}else m.indexOf(o,u)<0&&o.push(u)}return o},m.union=function(){return m.uniq(w(arguments,!0,!0,[]))},m.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,o=t.length;o>r;r++){var s=t[r];if(!m.contains(e,s)){for(var i=1;n>i&&m.contains(arguments[i],s);i++);i===n&&e.push(s)}}return e},m.difference=function(t){var e=w(u.call(arguments,1),!0,!0,[]);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(t){if(null==t)return[];for(var e=m.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=m.pluck(arguments,r);return n},m.object=function(t,e){if(null==t)return{};for(var n={},r=0,o=t.length;o>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},m.indexOf=function(t,e,n){if(null==t)return-1;var r=0,o=t.length;if(n){if("number"!=typeof n)return r=m.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,o+n):n}for(;o>r;r++)if(t[r]===e)return r;return-1},m.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},m.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),s=0;r>s;s++,t+=n)o[s]=t;return o};var _=function(){};m.bind=function(t,e){var n,r;if(f&&t.bind===f)return f.apply(t,u.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(u.call(arguments)));_.prototype=t.prototype;var o=new _;_.prototype=null;var s=t.apply(o,n.concat(u.call(arguments)));return m.isObject(s)?s:o}},m.partial=function(t){var e=u.call(arguments,1);return function(){for(var n=0,r=e.slice(),o=0,s=r.length;s>o;o++)r[o]===m&&(r[o]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},m.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=m.bind(t[n],t);
return t},m.memoize=function(t,e){var n=function(r){var o=n.cache,s=e?e.apply(this,arguments):r;return m.has(o,s)||(o[s]=t.apply(this,arguments)),o[s]};return n.cache={},n},m.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},m.defer=function(t){return m.delay.apply(m,[t,1].concat(u.call(arguments,1)))},m.throttle=function(t,e,n){var r,o,s,i=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:m.now(),i=null,s=t.apply(r,o),i||(r=o=null)};return function(){var l=m.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return r=this,o=arguments,0>=c||c>e?(clearTimeout(i),i=null,a=l,s=t.apply(r,o),i||(r=o=null)):i||n.trailing===!1||(i=setTimeout(u,c)),s}},m.debounce=function(t,e,n){var r,o,s,i,a,u=function(){var l=m.now()-i;e>l&&l>0?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,i=m.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(a=t.apply(s,o),s=o=null),a}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},m.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},m.once=m.partial(m.before,2),m.keys=function(t){if(!m.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=t[e[o]];return r},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=[e[o],t[e[o]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,o=n.length;o>r;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=function(t){if(!m.isObject(t))return t;for(var e,n,r=1,o=arguments.length;o>r;r++){e=arguments[r];for(n in e)h.call(e,n)&&(t[n]=e[n])}return t},m.pick=function(t,e,n){var r,o={};if(null==t)return o;if(m.isFunction(e)){e=g(e,n);for(r in t){var s=t[r];e(s,r,t)&&(o[r]=s)}}else{var i=l.apply([],u.call(arguments,1));t=new Object(t);for(var a=0,c=i.length;c>a;a++)r=i[a],r in t&&(o[r]=t[r])}return o},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var r=m.map(l.apply([],u.call(arguments,1)),String);e=function(t,e){return!m.contains(r,e)}}return m.pick(t,e,n)},m.defaults=function(t){if(!m.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var o in r)void 0===t[o]&&(t[o]=r[o])}return t},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t};var k=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var o=c.call(t);if(o!==c.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;var i=t.constructor,a=e.constructor;if(i!==a&&"constructor"in t&&"constructor"in e&&!(m.isFunction(i)&&i instanceof i&&m.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var u,l;if("[object Array]"===o){if(u=t.length,l=u===e.length)for(;u--&&(l=k(t[u],e[u],n,r)););}else{var h,p=m.keys(t);if(u=p.length,l=m.keys(e).length===u)for(;u--&&(h=p[u],l=m.has(e,h)&&k(t[h],e[h],n,r)););}return n.pop(),r.pop(),l};m.isEqual=function(t,e){return k(t,e,[],[])},m.isEmpty=function(t){if(null==t)return!0;if(m.isArray(t)||m.isString(t)||m.isArguments(t))return 0===t.length;for(var e in t)if(m.has(t,e))return!1;return!0},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===c.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){m["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),"function"!=typeof/./&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&h.call(t,e)},m.noConflict=function(){return t._=r,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return function(e){return e[t]}},m.matches=function(t){var e=m.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var o=e[r],s=o[0];if(o[1]!==t[s]||!(s in t))return!1}return!0}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=g(e,n,1);for(var o=0;t>o;o++)r[o]=e(o);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=m.invert(b),x=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}};m.escape=x(b),m.unescape=x(j),m.result=function(t,e){if(null==t)return void 0;var n=t[e];return m.isFunction(n)?t[e]():n};var T=0;m.uniqueId=function(t){var e=++T+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,S=function(t){return"\\"+C[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,r,i,a){return s+=t.slice(o,a).replace($,S),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var i=new Function(e.variable||"obj","_",s)}catch(a){throw a.source=s,a}var u=function(t){return i.call(this,t,m)},l=e.variable||"obj";return u.source="function("+l+"){\n"+s+"}",u},m.chain=function(t){var e=m(t);return e._chain=!0,e};var P=function(t){return this._chain?m(t).chain():t};m.mixin=function(t){m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),P.call(this,n.apply(m,t))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],P.call(this,n)}}),m.each(["concat","join","slice"],function(t){var e=o[t];m.prototype[t]=function(){return P.call(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this)},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/router.js":[function(t,e){(function(){var n,r,o,s,i,a,u,l,c,h,p,d,f,m,g,v,y,w,_={}.hasOwnProperty,k=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b=[].slice;n=t("./backbone"),m=t("querystring"),w=t("./underscore"),s=w.extend,p=w.object,l=w.isRegExp,u=w.isFunction,y=w.zip,d=w.pluck,g=w.sortBy,c=w.keys,o=w.difference,h=w.map,a=function(t){var e;return e=[],e.push.apply(e,f(t,/(\(\?)?:\w+/g)),e.push.apply(e,f(t,/\*\w+/g)),e},f=function(t,e){var n,r,o;return r=null!=(o=t.match(e))?o:[],n=i(t,e),y(r,n)},i=function(t,e){var n;for(n=[];e.test(t);)n.push(e.lastIndex);return n},v=function(t,e,n,r){return null==r&&(r=""),t.slice(0,e)+r+t.slice(n)},r=function(t){function e(){var t;t=1<=arguments.length?b.call(arguments,0):[],this._routes={},e.__super__.constructor.apply(this,t)}return k(e,t),e.prototype.route=function(t,e,r){return l(t)||(this._routes[e]=t,t=this._routeToRegExp(t)),u(e)&&(r=e,e=""),r||(r=this[e]),n.history.route(t,function(o){return function(s){var i;return i=o._buildRequest(t,s,e),o.execute(r,i),o.trigger.apply(o,["route:"+e,i]),o.trigger("route",e,i),n.history.trigger("route",o,e,i)}}(this))},e.prototype._routeToRegExp=function(t){var n,r;return r=e.__super__._routeToRegExp.call(this,t),n=a(t),r.names=h(d(g(n,"1"),"0"),function(t){return t.slice(1)}),r},e.prototype._buildRequest=function(t,e,n){var r,o,s,i,a,u;return i=this._extractParameters(t,e),o=e.split("?").slice(1).join("?"),i[i.length-1]===o&&(i=i.slice(0,-1)),r=null!=(a=t.names)?a:h(i,function(t,e){return e}),s={route:null!=(u=this._routes[n])?u:t,fragment:e,name:n,values:i,params:p(r,i),query:m.parse(o)}},e.prototype._bindRoutes=function(){},e.prototype.execute=function(t,e){return t?t.call(this,e):void 0},e.prototype.reverse=function(t,e){var n,r,s,i,u,l,p,g,y,w,_,k,b,j,x,T,E,C,$,S,P;if(w=this._routes[t],!w)return null;for(y=w,p=null!=(E=e.params)?E:{},g=null!=(C=e.query)?C:{},i=c(p),l=f(w,/\((.*?)\)/g).reverse(),b=0,x=l.length;x>b;b++)$=l[b],u=$[0],r=$[1],s=h(d(a(u),"0"),function(t){return t.slice(1)}),n=o(s,i).length,w=0===s.length||0!==n?v(w,r-u.length,r):v(w,r-u.length,r,u.slice(1,-1));for(s=a(w).reverse(),j=0,T=s.length;T>j;j++)S=s[j],_=S[0],r=S[1],k=null!=(P=p[_.slice(1)])?P:null,null!==k&&(w=v(w,r-_.length,r,p[_.slice(1)]));return g=m.stringify(g),g&&(w+="?"+g),w},e}(n.Router),e.exports=r}).call(this)},{"./backbone":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js","./underscore":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js",querystring:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/index.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js":[function(t,e){(function(){var n;e.exports=null!=(n=t("underscore"))?n:window._}).call(this)},{underscore:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/node_modules/underscore/underscore.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js":[function(t,e){(function(){var n,r,o,s,i,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=[].slice;n=t("./backbone"),i=t("./underscore"),s=i.without,o=i.difference,r=function(t){function e(t){var n;null==t&&(t={}),this.children=[],t.className&&(this.className=t.className),t.namespace&&(this.namespace=t.namespace),t.el&&this._ensureClass(t.el),t.parent&&this.setParent(t.parent),(null!=(n=t.children)?n.length:void 0)&&this.addChildren(t.children),e.__super__.constructor.call(this,t)}return u(e,t),e.prototype.parent=null,e.prototype.children=null,e.prototype.namespace="",e.prototype._ensureClass=function(t,e){return null==e&&(e=this.className),n.$(t).addClass(e)},e.prototype.addChildren=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(this.addChild(e));return o},e.prototype.addChild=function(t){return t.parent&&t.unsetParent(),this.children.push(t),t.parent=this},e.prototype.setParent=function(t){return this.parent&&this.unsetParent(),this.parent=t,this.parent.children.push(this)},e.prototype.unsetParent=function(){return this.parent?this.parent.removeChild(this):void 0},e.prototype.hasParent=function(){return!!this.parent},e.prototype.getParent=function(){return this.parent},e.prototype.hasChildren=function(){return this.children.length},e.prototype.getChildren=function(){return this.children},e.prototype.hasChild=function(t){return l.call(this.children,t)>=0},e.prototype.hasDescendant=function(t){var e,n,r,o;if(l.call(this.children,t)>=0)return!0;for(o=this.children,n=0,r=o.length;r>n;n++)if(e=o[n],e.hasDescendant(t))return!0;return!1},e.prototype.removeChild=function(t){return this.children=s(this.children,t),t.parent=null},e.prototype.removeChildren=function(){var t,e,n,r,o;for(r=this.children,o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(this.removeChild(t));return o},e.prototype.root=function(){var t;for(t=this;t.hasParent();)t=t.getParent();return t},e.prototype.remove=function(){return this.children.forEach(function(t){return t.remove()}),this.children=[],this.parent=null,this.off(),this.undelegateEvents(),e.__super__.remove.call(this)},e.prototype.trigger=function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n.View.prototype.trigger.apply(this,t),this.namespace&&(t[0]=this.namespace+"."+t[0]),this.parent?this.parent._bubbleTrigger.apply(this.parent,t):void 0},e.prototype._bubbleTrigger=function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n.View.prototype.trigger.apply(this,t),this.parent?this.parent._bubbleTrigger.apply(this.parent,t):void 0},e}(n.View),e.exports=r}).call(this)},{"./backbone":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/backbone.js","./underscore":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/lib/_empty.js":[function(){},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/decode.js":[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,o,s){e=e||"&",o=o||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;l>c;++c){var h,p,d,f,m=t[c].replace(a,"%20"),g=m.indexOf(o);g>=0?(h=m.substr(0,g),p=m.substr(g+1)):(h=m,p=""),d=decodeURIComponent(h),f=decodeURIComponent(p),n(i,d)?r(i[d])?i[d].push(f):i[d]=[i[d],f]:i[d]=f}return i};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/encode.js":[function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(r(s))+i;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/index.js":[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/decode.js","./encode":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/node_modules/querystring-es3/encode.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js":[function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function o(t){return Array.isArray(t)?t.map(o).filter(r).join(" "):t}n.merge=function s(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=s(n,t[o]);return n}var i=t["class"],a=e["class"];(i||a)&&(i=i||[],a=a||[],Array.isArray(i)||(i=[i]),Array.isArray(a)||(a=[a]),t["class"]=i.concat(a).filter(r));for(var u in e)"class"!=u&&(t[u]=e[u]);return t},n.joinClasses=o,n.cls=function(t,e){for(var r=[],s=0;s<t.length;s++)r.push(e&&e[s]?n.escape(o([t[s]])):o(t[s]));var i=o(r);return i.length?' class="'+i+'"':""},n.attr=function(t,e,r,o){return"boolean"==typeof e||null==e?e?" "+(o?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?" "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'":r?" "+t+'="'+n.escape(e)+'"':" "+t+'="'+e+'"'},n.attrs=function(t,e){var r=[],s=Object.keys(t);if(s.length)for(var i=0;i<s.length;++i){var a=s[i],u=t[a];"class"==a?(u=o(u))&&r.push(" "+a+'="'+u+'"'):r.push(n.attr(a,u,!1,e))}return r.join("")},n.escape=function(t){var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return e===""+t?t:e},n.rethrow=function i(e,n,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||o))throw e.message+=" on line "+r,e;try{o=o||t("fs").readFileSync(n,"utf8")}catch(s){i(e,null,r)}var a=3,u=o.split("\n"),l=Math.max(r-a,0),c=Math.min(u.length,r+a),a=u.slice(l,c).map(function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e}},{fs:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/browserify/lib/_empty.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/sortablejs/Sortable.js":[function(t,e){!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){this.el=t,this.options=e=e||{};var r={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1};for(var o in r)!(o in e)&&(e[o]=r[o]);var i=e.group;i&&"object"==typeof i||(i=e.group={name:i}),["pull","put"].forEach(function(t){t in i||(i[t]=!0)}),q.forEach(function(r){e[r]=n(this,e[r]||B),s(t,r.substr(2).toLowerCase(),e[r])},this),e.groups=" "+i.name+(i.put.join?" "+i.put.join(" "):"")+" ",t[A]=e;for(var a in this)"_"===a.charAt(0)&&(this[a]=n(this,this[a]));s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart),s(t,"dragover",this),s(t,"dragenter",this),H.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){y&&y.state!==t&&(u(y,"display",t?"none":""),!t&&y.state&&w.insertBefore(y,g),y.state=t)}function n(t,e){var n=M.call(arguments,2);return e.bind?e.bind.apply(e,[t].concat(n)):function(){return e.apply(t,n.concat(M.call(arguments)))}}function r(t,e,n){if(t){n=n||D,e=e.split(".");var r=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")\\s","g");do if(">*"===r&&t.parentNode===n||(""===r||t.nodeName.toUpperCase()==r)&&(!e.length||((" "+t.className+" ").match(o)||[]).length==e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function o(t){t.dataTransfer.dropEffect="move",t.preventDefault()}function s(t,e,n){t.addEventListener(e,n,!1)}function i(t,e,n){t.removeEventListener(e,n,!1)}function a(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(/\s+/g," ").replace(" "+e+" ","");t.className=r+(n?" "+e:"")}}function u(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return D.defaultView&&D.defaultView.getComputedStyle?n=D.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function l(t,e,n){if(t){var r=t.getElementsByTagName(e),o=0,s=r.length;if(n)for(;s>o;o++)n(r[o],o);return r}return[]}function c(t){t.draggable=!1}function h(){I=!1}function p(t,e){var n=t.lastElementChild,r=n.getBoundingClientRect();return e.clientY-(r.top+r.height)>5&&n}function d(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function f(t){for(var e=0;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function m(t,e){var n,r;return function(){void 0===n&&(n=arguments,r=this,setTimeout(function(){1===n.length?t.call(r,n[0]):t.apply(r,n),n=void 0},e))}}var g,v,y,w,_,k,b,j,x,T,E,C,$,S,P={},A="Sortable"+(new Date).getTime(),O=window,D=O.document,R=O.parseInt,N=!!("draggable"in D.createElement("div")),I=!1,U=function(t,e,n,r,o,s){var i=D.createEvent("Event");i.initEvent(e,!0,!0),i.item=n||t,i.from=r||t,i.clone=y,i.oldIndex=o,i.newIndex=s,t.dispatchEvent(i)},q="onAdd onUpdate onRemove onStart onEnd onFilter onSort".split(" "),B=function(){},F=Math.abs,M=[].slice,H=[],z=m(function(t,e,n){if(n&&e.scroll){var r,o,s,i,a=e.scrollSensitivity,u=e.scrollSpeed,l=t.clientX,c=t.clientY,h=window.innerWidth,p=window.innerHeight;if(b!==n&&(k=e.scroll,b=n,k===!0)){k=n;do if(k.offsetWidth<k.scrollWidth||k.offsetHeight<k.scrollHeight)break;while(k=k.parentNode)}k&&(r=k,o=k.getBoundingClientRect(),s=(F(o.right-l)<=a)-(F(o.left-l)<=a),i=(F(o.bottom-c)<=a)-(F(o.top-c)<=a)),s||i||(s=(a>=h-l)-(a>=l),i=(a>=p-c)-(a>=c),(s||i)&&(r=O)),(P.vx!==s||P.vy!==i||P.el!==r)&&(P.el=r,P.vx=s,P.vy=i,clearInterval(P.pid),r&&(P.pid=setInterval(function(){r===O?O.scrollTo(O.scrollX+s*u,O.scrollY+i*u):(i&&(r.scrollTop+=i*u),s&&(r.scrollLeft+=s*u))},24)))}},30);return t.prototype={constructor:t,_dragStarted:function(){w&&g&&(a(g,this.options.ghostClass,!0),t.active=this,U(w,"start",g,w,T))},_onTapStart:function(t){var e=t.type,n=t.touches&&t.touches[0],o=(n||t).target,i=o,a=this.options,u=this.el,h=a.filter;if(!("mousedown"===e&&0!==t.button||a.disabled)&&(o=r(o,a.draggable,u))){if(T=f(o),"function"==typeof h){if(h.call(this,t,o,this))return U(i,"filter",o,u,T),void t.preventDefault()}else if(h&&(h=h.split(",").some(function(t){return t=r(i,t.trim(),u),t?(U(t,"filter",o,u,T),!0):void 0})))return void t.preventDefault();if((!a.handle||r(i,a.handle,u))&&o&&!g&&o.parentNode===u){$=t,w=this.el,g=o,_=g.nextSibling,C=this.options.group,g.draggable=!0,a.ignore.split(",").forEach(function(t){l(o,t.trim(),c)}),n&&($={target:o,clientX:n.clientX,clientY:n.clientY},this._onDragStart($,"touch"),t.preventDefault()),s(D,"mouseup",this._onDrop),s(D,"touchend",this._onDrop),s(D,"touchcancel",this._onDrop),s(g,"dragend",this),s(w,"dragstart",this._onDragStart),N||this._onDragStart($,!0);try{D.selection?D.selection.empty():window.getSelection().removeAllRanges()}catch(p){}}}},_emulateDragOver:function(){if(S){u(v,"display","none");var t=D.elementFromPoint(S.clientX,S.clientY),e=t,n=" "+this.options.group.name,r=H.length;if(e)do{if(e[A]&&e[A].groups.indexOf(n)>-1){for(;r--;)H[r]({clientX:S.clientX,clientY:S.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);u(v,"display","")}},_onTouchMove:function(t){if($){var e=t.touches?t.touches[0]:t,n=e.clientX-$.clientX,r=e.clientY-$.clientY,o=t.touches?"translate3d("+n+"px,"+r+"px,0)":"translate("+n+"px,"+r+"px)";S=e,u(v,"webkitTransform",o),u(v,"mozTransform",o),u(v,"msTransform",o),u(v,"transform",o),t.preventDefault()}},_onDragStart:function(t,e){var n=t.dataTransfer,r=this.options;if(this._offUpEvents(),"clone"==C.pull&&(y=g.cloneNode(!0),u(y,"display","none"),w.insertBefore(y,g)),e){var o,i=g.getBoundingClientRect(),a=u(g);v=g.cloneNode(!0),u(v,"top",i.top-R(a.marginTop,10)),u(v,"left",i.left-R(a.marginLeft,10)),u(v,"width",i.width),u(v,"height",i.height),u(v,"opacity","0.8"),u(v,"position","fixed"),u(v,"zIndex","100000"),w.appendChild(v),o=v.getBoundingClientRect(),u(v,"width",2*i.width-o.width),u(v,"height",2*i.height-o.height),"touch"===e?(s(D,"touchmove",this._onTouchMove),s(D,"touchend",this._onDrop),s(D,"touchcancel",this._onDrop)):(s(D,"mousemove",this._onTouchMove),s(D,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,150)}else n&&(n.effectAllowed="move",r.setData&&r.setData.call(this,n,g)),s(D,"drop",this);setTimeout(this._dragStarted,0)},_onDragOver:function(t){var n,o,s,i=this.el,a=this.options,l=a.group,c=l.put,d=C===l,f=a.sort;if(g&&(void 0!==t.preventDefault&&(t.preventDefault(),!a.dragoverBubble&&t.stopPropagation()),C&&!a.disabled&&(d?f||(s=!w.contains(g)):C.pull&&c&&(C.name===l.name||c.indexOf&&~c.indexOf(C.name)))&&(void 0===t.rootEl||t.rootEl===this.el))){if(z(t,a,this.el),I)return;if(n=r(t.target,a.draggable,i),o=g.getBoundingClientRect(),s)return e(!0),void(y||_?w.insertBefore(g,y||_):f||w.appendChild(g));if(0===i.children.length||i.children[0]===v||i===t.target&&(n=p(i,t))){if(n){if(n.animated)return;k=n.getBoundingClientRect()}e(d),i.appendChild(g),this._animate(o,g),n&&this._animate(k,n)}else if(n&&!n.animated&&n!==g&&void 0!==n.parentNode[A]){j!==n&&(j=n,x=u(n));var m,k=n.getBoundingClientRect(),b=k.right-k.left,T=k.bottom-k.top,E=/left|right|inline/.test(x.cssFloat+x.display),$=n.offsetWidth>g.offsetWidth,S=n.offsetHeight>g.offsetHeight,P=(E?(t.clientX-k.left)/b:(t.clientY-k.top)/T)>.5,O=n.nextElementSibling;I=!0,setTimeout(h,30),e(d),m=E?n.previousElementSibling===g&&!$||P&&$:O!==g&&!S||P&&S,m&&!O?i.appendChild(g):n.parentNode.insertBefore(g,m?O:n),this._animate(o,g),this._animate(k,n)}}},_animate:function(t,e){var n=this.options.animation;if(n){var r=e.getBoundingClientRect();u(e,"transition","none"),u(e,"transform","translate3d("+(t.left-r.left)+"px,"+(t.top-r.top)+"px,0)"),e.offsetWidth,u(e,"transition","all "+n+"ms"),u(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){u(e,"transition",""),u(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){i(D,"mouseup",this._onDrop),i(D,"touchmove",this._onTouchMove),i(D,"touchend",this._onDrop),i(D,"touchcancel",this._onDrop)},_onDrop:function(e){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(P.pid),i(D,"drop",this),i(D,"mousemove",this._onTouchMove),i(n,"dragstart",this._onDragStart),this._offUpEvents(),e&&(e.preventDefault(),!r.dropBubble&&e.stopPropagation(),v&&v.parentNode.removeChild(v),g&&(i(g,"dragend",this),c(g),a(g,this.options.ghostClass,!1),w!==g.parentNode?(E=f(g),U(g.parentNode,"sort",g,w,T,E),U(w,"sort",g,w,T,E),U(g,"add",g,w,T,E),U(w,"remove",g,w,T,E)):(y&&y.parentNode.removeChild(y),g.nextSibling!==_&&(E=f(g),U(w,"update",g,w,T,E),U(w,"sort",g,w,T,E))),t.active&&U(w,"end",g,w,T,E)),w=g=v=_=y=k=b=$=S=j=x=C=t.active=null,this.save())},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?(this._onDragOver(t),o(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],n=this.el.children,o=0,s=n.length;s>o;o++)t=n[o],r(t,this.options.draggable,this.el)&&e.push(t.getAttribute("data-id")||d(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var s=n.children[o];r(s,this.options.draggable,n)&&(e[t]=s)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return r(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:void(n[t]=e)},destroy:function(){var t=this.el,e=this.options;q.forEach(function(n){i(t,n.substr(2).toLowerCase(),e[n])}),i(t,"mousedown",this._onTapStart),i(t,"touchstart",this._onTapStart),i(t,"dragover",this),i(t,"dragenter",this),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),H.splice(H.indexOf(this._onDragOver),1),this._onDrop(),this.el=null}},t.utils={on:s,off:i,css:u,find:l,bind:n,is:function(t,e){return!!r(t,e,t)},throttle:m,closest:r,toggleClass:a,dispatchEvent:U,index:f},t.version="1.1.1",t.create=function(e,n){return new t(e,n)},t})},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/controls/index.coffee":[function(t,e){var n,r,o,s={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("bamjs/view"),o=t("./index.jade"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.namespace="controls",e.prototype.events={"click .controls-title":"clickTitle","click [data-direction=prev]":"prevTrack","click [data-direction=next]":"nextTrack","click [data-type=shuffle]":"shuffleTracks"},e.prototype.initialize=function(){var t;return this.$el.html(o()),this.$title=this.$(".controls-title"),this.root().$audio=this.$audio=this.$("audio"),this.root().audio=this.audio=this.$audio.get(0),t=["ended","progress","timeupdate"],t.forEach(function(t){return function(e){return t.$audio.on(e,function(n){return t.root().trigger("audio:"+e,n)})}}(this)),this.listenTo(this.root(),"tracks:set",this.setCurrent),this.listenTo(this.root(),"audio:ended",this.nextTrack),this.listenTo(this.root(),"audio:play",this.play),this.listenTo(this.root(),"audio:pause",this.pause),this.listenTo(this.root(),"audio:seek",this.seek),this.listenTo(this.root(),"audio:timeupdate",this.timeupdate),this.listenTo(this.root(),"keydown",this.keydown)},e.prototype.goTo=function(t){var e;return this.$title.text(this.currentTrack.get("title")),e=t||!this.audio.paused,this.$audio.one("canplaythrough",function(t){return function(){return t.seek(t.currentTrack.get("currentTime"))}}(this)),this.$audio.attr("src",this.currentTrack.get("src")),e?this.audio.play():void 0},e.prototype.togglePlay=function(){return this.root().trigger(this.audio.paused?"audio:play":"audio:pause")},e.prototype.setCurrent=function(t,e){return this.currentTrack!==t?(this.root().currentTrack=this.currentTrack=t,this.currentTrack?(this.$currentTrack=t.$el,this.goTo(e)):this.audio.src=""):void 0},e.prototype.play=function(){return this.audio.play()},e.prototype.pause=function(){return this.audio.pause()},e.prototype.seek=function(t){return this.audio.currentTime=t},e.prototype.timeupdate=function(){return this.currentTrack.set("currentTime",this.audio.currentTime)},e.prototype.keydown=function(t){return $("input:focus").length?void 0:32===t.keyCode&&0===$(":focus:not(.track-play)").length?(t.preventDefault(),this.togglePlay()):74===t.keyCode?this.prevTrack():75===t.keyCode?this.nextTrack():void 0},e.prototype.clickTitle=function(t){var e;return t.preventDefault(),e=this.root().$("[data-track='"+this.currentTrack.id+"']"),$("html").animate({scrollTop:e.offset().top-10},300)},e.prototype.prevTrack=function(t){var e;return null==t&&(t={}),e=this.$currentTrack.prevUntil(":not(.hidden)").last().prev().data("track"),this.root().trigger("tracks:set",e)},e.prototype.nextTrack=function(t){var e;return null==t&&(t={}),e=this.$currentTrack.find("~ .track:not(.hidden)").first().data("track"),this.root().trigger("tracks:set",e,"ended"===t.type)},e.prototype.shuffleTracks=function(){return this.root().trigger("playlist:shuffle"),this.$currentTrack=this.currentTrack.$el},e}(r),e.exports=n},{"./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/controls/index.jade","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/controls/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");
e.exports=function(e){return e&&(e.require=t),function(t){var e=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/controls/index.jade"}];try{var r=[],o=t||{};return function(){r.push('<audio controls="controls">'),r.push("</audio>"),r.push('<button data-direction="prev">'),r.push("<<"),r.push("</button>"),r.push('<a href="#" class="controls-title">'),r.push("</a>"),r.push('<button data-direction="next">'),r.push(">>"),r.push("</button>"),r.push('<button data-type="shuffle">'),r.push("⤭"),r.push("</button>")}.call(this,"undefined"in o?o.undefined:void 0),r.join("")}catch(s){n.rethrow(s,e[0].filename,e[0].lineno,"audio(controls)\nbutton(data-direction='prev') <<\na.controls-title(href='#')\nbutton(data-direction='next') >>\nbutton(data-type='shuffle') ⤭")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/filter/index.coffee":[function(t,e){var n,r,o,s={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("bamjs/view"),o=t("./index.jade"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.namespace="filter-form",e.prototype.events={"input input":"input",submit:"submit"},e.prototype.initialize=function(){return this.$el.html(o())},e.prototype.input=function(){var t;return t=this.$("input").val(),this.root().trigger("playlist:filter",t)},e.prototype.submit=function(t){return t.preventDefault()},e}(r),e.exports=n},{"./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/filter/index.jade","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/filter/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");e.exports=function(e){return e&&(e.require=t),function(){var t=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/filter/index.jade"}];try{var e=[];return e.push('<input placeholder="Filter tracks"/>'),e.join("")}catch(r){n.rethrow(r,t[0].filename,t[0].lineno,"input(placeholder='Filter tracks')\n")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/index.coffee":[function(t,e){var n,r,o,s,i,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("bamjs/view"),o=t("./playlists"),n=t("./filter"),i=t("./index.jade"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.namespace="forms",e.prototype.initialize=function(){return this.$el.html(i()),this.playlistsForm=new o({el:this.$(".playlists-form"),parent:this}),this.filterForm=new n({el:this.$(".filter-form"),parent:this})},e}(s),e.exports=r},{"./filter":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/filter/index.coffee","./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/index.jade","./playlists":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/playlists/index.coffee","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");e.exports=function(e){return e&&(e.require=t),function(t){var e=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/index.jade"}];try{var r=[],o=t||{};return function(){r.push('<form class="playlists-form">'),r.push("</form>"),r.push('<form class="filter-form">'),r.push("</form>")}.call(this,"undefined"in o?o.undefined:void 0),r.join("")}catch(s){n.rethrow(s,e[0].filename,e[0].lineno,"form.playlists-form\nform.filter-form")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/playlists/index.coffee":[function(t,e){var n,r,o,s,i={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("bamjs/view"),o=t("../../../modules/api"),s=t("./index.jade"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.namespace="playlist-form",e.prototype.events={submit:"submit","click [data-link=delete]":"clickDelete"},e.prototype.initialize=function(){var t;return t=localStorage.getItem("url"),t||(t="https://soundcloud.com/calvein/sets/mixtapes"),this.$el.html(s({url:t})),this.listenTo(this.root(),"playlist:get",this.setPlaylist),this.setPlaylist(t)},e.prototype.setPlaylist=function(t){return localStorage.setItem("url",t),this.getData(t)},e.prototype.getPlaylist=function(t){return o.getPlaylist(t).done(function(t){return function(e){return t.root().trigger("playlist:new",e)}}(this))},e.prototype.getPlaylists=function(t){return o.getPlaylists(t).done(function(t){return function(e){var n,r,o,s;for(s=[],r=0,o=e.length;o>r;r++)n=e[r],s.push(confirm("Add playlist «"+n.title+"» ?")?t.root().trigger("playlist:new",n):void 0);return s}}(this))},e.prototype.getData=function(t){var e,n,r,o;return t=t.replace(/\/$/,""),o=t.replace(/http(s*):\/\/soundcloud.com\//,"").split("/"),r=o[0],n=o[1],(e=o[2])?this.getPlaylist(t):(n||"sets"!==n||(t+="/sets"),this.getPlaylists(t))},e.prototype.submit=function(t){var e;return t.preventDefault(),e=this.$("input").val(),this.setPlaylist(e)},e.prototype.clickDelete=function(){return confirm("Do you really want to remove all the tracks ?")?this.root().trigger("tracks:reset"):void 0},e}(r),e.exports=n},{"../../../modules/api":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/modules/api/index.coffee","./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/playlists/index.jade","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/playlists/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");e.exports=function(e){return e&&(e.require=t),function(t){var e=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/playlists/index.jade"}];try{var r=[],o=t||{};return function(t){r.push("<input"+n.attr("value",t,!0,!1)+' placeholder="Soundcloud playlist url, e.g: https://soundcloud.com/calvein/sets/mixtapes" autofocus="autofocus"/>'),r.push('<a href="#" data-link="delete" title="Remove all tracks">'),r.push("×"),r.push("</a>")}.call(this,"url"in o?o.url:"undefined"!=typeof url?url:void 0,"undefined"in o?o.undefined:void 0),r.join("")}catch(s){n.rethrow(s,e[0].filename,e[0].lineno,"input(\n    value=url\n    placeholder='Soundcloud playlist url, e.g: https://soundcloud.com/calvein/sets/mixtapes'\n    autofocus\n)\na(\n    href='#'\n    data-link='delete'\n    title='Remove all tracks'\n) ×")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/tracks/index.coffee":[function(t,e){var n,r,o,s,i,a,u,l={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("bamjs/view"),n=t("sortablejs"),i=t("../waveform"),a=t("bamjs/underscore").shuffle,o=t("../../models/tracks"),u=t("./index.jade"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.namespace="tracks",e.prototype.events={"click .track-play":"clickTrackPlay","click [data-link=delete]":"clickTrackDelete"},e.prototype.initialize=function(){return this.tracks=new o,this.listenTo(this.root(),"tracks:set",this.setCurrent),this.listenTo(this.root(),"tracks:reset",this.deleteAllTracks),this.listenTo(this.root(),"playlist:new",this.showPlaylist),this.listenTo(this.root(),"playlist:shuffle",this.shuffleTracks),this.listenTo(this.root(),"playlist:filter",this.filterTracks),this.listenTo(this.root(),"audio:timeupdate",this.audioTimeupdate),this.listenTo(this.root(),"audio:progress",this.audioProgress),this.listenTo(this.root(),"audio:play",this.play),this.listenTo(this.root(),"audio:pause",this.pause)},e.prototype.showTracks=function(t){var e,r,o,s,a,l,c;for(this.$el.html(u({tracks:t})),r=this.$(".track"),setTimeout(function(){return r.removeClass("showing")}),n.create(this.el,{animation:200,onStart:function(t){return function(){return t.$el.addClass("sorting")}}(this),onEnd:function(t){return function(){return t.$el.removeClass("sorting")}}(this)}),c=[],a=0,l=r.length;l>a;a++)o=r[a],e=$(o),s=this.tracks.get(e.data("track")),s.$el=e,e.data("track",s),c.push(s.waveform=new i({el:$(".track-waveform",o),parent:this,model:s}));return c},e.prototype.setCurrent=function(t){return t&&this.currentTrack!==t?(this.currentTrack=t,t.$el.addClass("active").siblings(".active").removeClass("active"),this.$(".playing").removeClass("playing"),t.$el.addClass("playing")):void 0},e.prototype.showPlaylist=function(t){return this.tracks.add(t.tracks.reverse(),{parse:!0,at:0}),this.showTracks(this.tracks.models)},e.prototype.shuffleTracks=function(){return this.showTracks(this.tracks.shuffle())},e.prototype.filterTracks=function(t){var e,n,r,o,s,i,a,u;for(r=new RegExp(t,"i"),a=this.tracks.models,u=[],s=0,i=a.length;i>s;s++)o=a[s],e=r.test(o.getUsername()),n=r.test(o.get("title")),u.push(o.$el.toggleClass("hidden",!(e||n)));return u},e.prototype.audioTimeupdate=function(){var t;return t=1e3*this.root().audio.currentTime,this.currentTrack.waveform.drawPlayed(t)},e.prototype.audioProgress=function(){var t,e,n,r;return t=this.root().audio.buffered,n=t.length-1,e=1e3*t.start(n),r=1e3*t.end(n),this.currentTrack.waveform.drawBuffered(e,r,n)},e.prototype.pause=function(){return this.currentTrack.$el.removeClass("playing")},e.prototype.play=function(){return this.$(".playing").removeClass("playing"),this.currentTrack.$el.addClass("playing")},e.prototype.playTrack=function(t){var e;return e=t.$el,e.hasClass("active")&&this.root().isPlaying()?this.root().trigger("audio:pause"):(this.root().trigger("tracks:set",t),this.root().trigger("audio:play"))},e.prototype.deleteTrack=function(t){var e,n;return e=t.$el,e.hasClass("active")&&(n=e.next().data("track"),this.root().trigger("tracks:set",n)),e.one("transitionend",function(n){return function(){return e.remove(),n.tracks.remove(t)}}(this)).addClass("delete")},e.prototype.deleteAllTracks=function(){var t,e,n,r,o;for(r=this.tracks.models,o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(this.deleteTrack(t));return o},e.prototype.clickTrackPlay=function(t){var e,n,r;return e=$(t.currentTarget),n=$(t.currentTarget).parents(".track"),r=n.data("track"),this.playTrack(r)},e.prototype.clickTrackDelete=function(t){var e,n;return t.preventDefault(),t.stopPropagation(),e=$(t.currentTarget).parents(".track"),n=e.data("track"),this.deleteTrack(n)},e}(s),e.exports=r},{"../../models/tracks":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/models/tracks.coffee","../waveform":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/waveform/index.coffee","./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/tracks/index.jade","bamjs/underscore":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/underscore.js","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js",sortablejs:"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/sortablejs/Sortable.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/tracks/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");e.exports=function(e){return e&&(e.require=t),function(t){var e=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/tracks/index.jade"}];try{var r,o=[],s=t||{};return function(t){(function(){var e=t;if("number"==typeof e.length)for(var s=0,i=e.length;i>s;s++){var a=e[s];o.push("<li"+n.attr("data-track",a.id,!0,!1)+' class="track showing">'),o.push("<figure>"),o.push("<img"+n.attr("src",a.getImage(),!0,!1)+' class="track-image"/>'),o.push("<figcaption>"),o.push('<button class="track-play">'),o.push("</button>"),o.push('<div class="track-details">'),o.push("<a"+n.attr("href",a.getUrl("user"),!0,!1)+' class="track-details-user">'+n.escape(null==(r=a.getUsername())?"":r)),o.push("</a>"),o.push("<a"+n.attr("href",a.getUrl(),!0,!1)+' class="track-details-title">'+n.escape(null==(r=a.get("title"))?"":r)),o.push("</a>"),o.push("</div>"),o.push('<div class="track-waveform">'),o.push("</div>"),o.push("</figcaption>"),o.push('<div class="track-links">'),a.isDownloadable()&&(o.push("<a"+n.attr("href",a.getDownloadUrl(),!0,!1)+' data-link="download" title="Download track">'),o.push("⬇"),o.push("</a>")),o.push('<a href="#" data-link="delete" title="Remove track from queue">'),o.push("×"),o.push("</a>"),o.push("</div>"),o.push("</figure>"),o.push("</li>")}else{var i=0;for(var s in e){i++;var a=e[s];o.push("<li"+n.attr("data-track",a.id,!0,!1)+' class="track showing">'),o.push("<figure>"),o.push("<img"+n.attr("src",a.getImage(),!0,!1)+' class="track-image"/>'),o.push("<figcaption>"),o.push('<button class="track-play">'),o.push("</button>"),o.push('<div class="track-details">'),o.push("<a"+n.attr("href",a.getUrl("user"),!0,!1)+' class="track-details-user">'+n.escape(null==(r=a.getUsername())?"":r)),o.push("</a>"),o.push("<a"+n.attr("href",a.getUrl(),!0,!1)+' class="track-details-title">'+n.escape(null==(r=a.get("title"))?"":r)),o.push("</a>"),o.push("</div>"),o.push('<div class="track-waveform">'),o.push("</div>"),o.push("</figcaption>"),o.push('<div class="track-links">'),a.isDownloadable()&&(o.push("<a"+n.attr("href",a.getDownloadUrl(),!0,!1)+' data-link="download" title="Download track">'),o.push("⬇"),o.push("</a>")),o.push('<a href="#" data-link="delete" title="Remove track from queue">'),o.push("×"),o.push("</a>"),o.push("</div>"),o.push("</figure>"),o.push("</li>")}}}).call(this)}.call(this,"tracks"in s?s.tracks:"undefined"!=typeof tracks?tracks:void 0,"undefined"in s?s.undefined:void 0),o.join("")}catch(i){n.rethrow(i,e[0].filename,e[0].lineno,"for track in tracks\n    li(data-track=track.id).track.showing: figure\n        img(src=track.getImage()).track-image\n        figcaption\n            button.track-play\n            .track-details\n                a(href=track.getUrl('user')).track-details-user= track.getUsername()\n                a(href=track.getUrl()).track-details-title= track.get('title')\n            .track-waveform\n        .track-links\n            if track.isDownloadable()\n                a(\n                    href=track.getDownloadUrl()\n                    data-link='download'\n                    title='Download track'\n                ) ⬇\n            a(\n                href='#'\n                data-link='delete'\n                title='Remove track from queue'\n            ) ×\n")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/waveform/index.coffee":[function(t,e){var n,r,o,s={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("bamjs/view"),o=t("./index.jade"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.namespace="waveform",e.prototype.events={click:"click",mousemove:"mousemove",mouseleave:"mouseleave"},e.prototype.initialize=function(){return this.undelegateEvents(),this.$el.html(o()),this.setupElements(),this.setupChart(),this.model.getWaveform().done(function(t){return function(e){return t.draw(e),t.delegateEvents()}}(this))},e.prototype.createRect=function(t,e){var n;return n=t.append("rect").attr("height","100%").attr("class","rect-"+e),"background"===e||"overlay"===e?n.attr("width","100%"):"hovered"===e&&n.classed("hidden",!0),n},e.prototype.setupElements=function(){var t;return this.svg=d3.select(this.$el.find("svg").get(0)),t="area-"+this.model.id,this.groups={clipPath:this.svg.append("clipPath").attr("id",t),rects:this.svg.append("g").attr("class","rects").attr("clip-path","url(#"+t+")"),overlay:this.createRect(this.svg,"overlay")},this.rects={background:this.createRect(this.groups.rects,"background"),buffered:this.groups.rects.append("g").attr("class","buffered-rects"),played:this.createRect(this.groups.rects,"played"),hovered:this.createRect(this.groups.rects,"hovered")}},e.prototype.setupChart=function(){var t;return this.height=this.$el.height(),t=this.height/2,this.currentTime=0,this.trackScale=d3.scale.linear().domain([0,this.model.get("duration")]).range([0,100]),this.x=d3.scale.linear().domain([0,1800]),this.y=d3.scale.linear().range([0,this.height/2]),this.area=d3.svg.area().x(function(t){return function(e,n){return t.x(n)}}(this)).y0(function(t){return function(e){return t.y(1-e)}}(this)).y1(function(t){return function(e){return t.y(1+e)}}(this))},e.prototype.resize=function(){return this.width=this.$el.width(),this.x.range([0,this.width])},e.prototype.draw=function(t){return this.resize(),this.groups.clipPath.append("path").datum(t).attr("d",this.area),this.$el.addClass("drawn")},e.prototype.drawPlayed=function(t){return this.currentTime=t,this.rects.played.attr("width",this.trackScale(t)+"%")},e.prototype.drawBuffered=function(t,e,n){return(!this.buffered||n>this.buffered.attr("data-i"))&&(this.buffered=this.createRect(this.rects.buffered,"buffered")),this.buffered.attr("data-i",n).attr("x",this.trackScale(t)+"%").attr("width",this.trackScale(e)+"%")},e.prototype.goTo=function(t){var e;return e=this.trackScale.invert(t/this.width)/10,this.root().trigger("audio:seek",e),this.root().trigger("audio:play")},e.prototype.click=function(t){return this.root().currentTrack===this.model&&4===this.root().audio.readyState?this.goTo(t.offsetX):(this.root().trigger("tracks:set",this.model),this.root().$audio.one("canplaythrough",function(e){return function(){return e.goTo(t.offsetX)}}(this)))},e.prototype.mousemove=function(t){var e,n,r,o;return e=t.offsetX/this.width*100,r=this.trackScale(this.currentTime),e>r?(o=r,n=e-r):(n=r-e,o=r-n),this.rects.hovered.classed("hidden",!1).attr("x",o+"%").attr("width",n+"%")},e.prototype.mouseleave=function(){return this.rects.hovered.classed("hidden",!0)},e}(n),e.exports=r},{"./index.jade":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/waveform/index.jade","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/waveform/index.jade":[function(t,e){var n=t("jade/lib/runtime.js");e.exports=function(e){return e&&(e.require=t),function(t){var e=[{lineno:1,filename:"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/waveform/index.jade"}];try{var r=[],o=t||{};return function(){r.push('<svg width="100%" height="100%">'),r.push("</svg>")}.call(this,"undefined"in o?o.undefined:void 0),r.join("")}catch(s){n.rethrow(s,e[0].filename,e[0].lineno,"svg(width='100%', height='100%')")}}(e)}},{"jade/lib/runtime.js":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/jade/lib/runtime.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/index.coffee":[function(t,e){var n,r,o,s,i,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("bamjs/view"),o=t("./components/forms"),r=t("./components/controls"),s=t("./components/tracks"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.namespace="app",e.prototype.events={keydown:"keydown"},e.prototype.initialize=function(){return this.forms=new o({el:this.$(".forms"),parent:this}),this.controls=new r({el:this.$(".controls"),parent:this}),this.tracks=new s({el:this.$(".tracks"),parent:this})},e.prototype.isPlaying=function(){return!this.controls.audio.paused},e.prototype.keydown=function(t){return this.trigger("keydown",t)},e}(i),e.exports=n},{"./components/controls":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/controls/index.coffee","./components/forms":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/forms/index.coffee","./components/tracks":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/components/tracks/index.coffee","bamjs/view":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/view.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/models/track.coffee":[function(t,e){var n,r,o,s,i={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("bamjs/model"),o=t("../modules/api"),s=t("../modules/waveform-data"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.idAttribute="id",e.prototype.defaults={currentTime:0},e.prototype.getImage=function(){var t;return t=this.get("artwork_url"),t||(t=this.get("user").avatar_url),t},e.prototype.getUrl=function(t){switch(null==t&&(t="track"),t){case"track":return this.get("permalink_url");case"user":return this.get("user").permalink_url}},e.prototype.getUsername=function(){return this.get("user").username},e.prototype.isDownloadable=function(){return this.get("downloadable")},e.prototype.getDownloadUrl=function(){return o.getTrackDownloadUrl(this)},e.prototype.parseType="ajax",e.prototype.getWaveform=function(){var t,e;return e=this.get("waveform"),e?t=$.Deferred().resolve(e):("ajax"===this.parseType?t=$.ajax({url:"http://www.waveformjs.org/w",dataType:"jsonp",data:{url:this.get("waveform_url")}}):"canvas"===this.parseType&&(t=s(this.get("waveform_url"))),t.done(function(t){return function(e){return t.set("waveform",e)}}(this))),t},e}(n),e.exports=r},{"../modules/api":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/modules/api/index.coffee","../modules/waveform-data":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/modules/waveform-data/index.coffee","bamjs/model":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/model.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/models/tracks.coffee":[function(t,e){var n,r,o,s={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("bamjs/collection"),r=t("./track"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.model=r,e}(n),e.exports=o},{"./track":"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/models/track.coffee","bamjs/collection":"/home/donnees/workspaces/soundcloud-playlist-shuffle/node_modules/bamjs/collection.js"}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/modules/api/index.coffee":[function(t,e){var n,r,o;r="5247b2c9dddfe7afb755c75a6198999d",n=function(){function t(){}return t.prototype.url="http://api.soundcloud.com/resolve.json",t.prototype.contructor=function(){},t.prototype.getData=function(t,e){var n;return n="?url="+t,n+="&client_id="+r,$("body").addClass("loading"),$.get(this.url+n).done(function(t){return $("body").removeClass("loading"),e?e(t):void 0})},t.prototype.getPlaylists=function(t){return this.getData(t)},t.prototype.getPlaylist=function(t){return this.getData(t,function(t){return t.tracks.forEach(function(t){return t.src=t.stream_url+"?client_id="+r})})},t.prototype.getTrackDownloadUrl=function(t){var e;return e=t.get("download_url"),e+="?client_id="+r},t}(),o=new n,e.exports=o},{}],"/home/donnees/workspaces/soundcloud-playlist-shuffle/src/app/modules/waveform-data/index.coffee":[function(t,e){e.exports=function(){var t,e,n,r,o,s;return n=$.Deferred(),s=1800,o=140,r=document.createElement("img"),t=document.createElement("canvas"),t.width=s,t.height=o,e=t.getContext("2d"),r.addEventListener("load",function(){var t,i,a,u,l,c,h;for(e.drawImage(r,0,0),l=e.getImageData(0,0,s,o).data,u=l.length,a=0,i=[],t=0,a=c=0,h=l.length;h>=c&&(l[a]>0&&t++,a&&a/4%o===0&&(i.push(t/o),t=0),!(a++>u));a=c+=4);return n.resolve(i)}),r.src="https://w1.sndcdn.com/G5d1wBmLJ2Kw_m.png",n}},{}]},{},["./src/index.coffee"]);